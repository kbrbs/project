{% extends 'core/base.html' %}

{% block content %}
{% load static %}
<style>
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .slide-up-animation {
    animation: slideUp 0.6s ease-out;
  }
  
  /* Override base.html main container styling for this page */
  main {
    max-width: 100% !important;
    padding: 0 !important;
  }
</style>

<div class="fixed inset-0 top-[72px] flex items-center justify-center p-4">
  <div class="w-full max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 bg-white rounded-2xl overflow-hidden shadow-2xl slide-up-animation">
    <!-- Left illustration / marketing -->
    <div class="hidden md:flex flex-col items-center justify-center bg-gradient-to-br from-[color:var(--cream)] to-white p-16 relative">
      <!-- Background Image -->
      <img src="{% static 'pictures/pic3.jpg' %}" alt="Login Illustration" class="absolute inset-0 w-full h-full object-cover">
      
      <div class="w-full max-w-sm relative z-10">
        <!-- You can replace this with your own image -->
        <div class="w-full h-72 mb-8 flex items-center justify-center">
          <img src="{% static 'pictures/main logo.png' %}" alt="Welcome" class="w-full h-full object-contain">
        </div>

        <h2 class="text-3xl font-bold text-white">Welcome back!</h2>
        <p class="mt-4 text-white text-lg">Sign in to track progress, save your quiz results, and pick up where you left off. New here? Create an account â€” it's free.</p>
        <p class="mt-6 text-sm text-white">Students and teachers can both sign in. For teacher access use the admin panel.</p>
      </div>
    </div>

    <!-- Right: form card -->
    <div class="p-12 flex items-center justify-center">
      <div class="w-full max-w-md">
        <h3 class="text-3xl font-extrabold mb-3">Login!</h3>
        <p class="text-sm text-gray-500 mb-8">Nice to see you! Please log in with your account.</p>

        {% if form.non_field_errors %}
          <div class="mb-4 text-red-600">{{ form.non_field_errors }}</div>
        {% endif %}

        <form method="post" action="{% url 'login' %}" class="space-y-5">
          {% csrf_token %}

          <div>
            <label for="id_username" class="block text-sm font-medium text-gray-700">Email address / Username</label>
            <input id="id_username" name="username" type="text" required class="mt-1 block w-full rounded-md border-gray-200 shadow-sm px-4 py-3 focus:ring-2 focus:ring-[color:var(--leaf)]" />
            {% if form.username.errors %}
              <p class="text-sm text-red-600 mt-1">{{ form.username.errors.0 }}</p>
            {% endif %}
          </div>

          <div>
            <label for="id_password" class="block text-sm font-medium text-gray-700">Password</label>
            <input id="id_password" name="password" type="password" required class="mt-1 block w-full rounded-md border-gray-200 shadow-sm px-4 py-3 focus:ring-2 focus:ring-[color:var(--leaf)]" />
            {% if form.password.errors %}
              <p class="text-sm text-red-600 mt-1">{{ form.password.errors.0 }}</p>
            {% endif %}
          </div>

          <div class="flex items-center justify-between">
            <label class="inline-flex items-center gap-2 text-sm text-gray-600">
              <input type="checkbox" name="remember" class="h-4 w-4 text-[color:var(--leaf)] border-gray-300 rounded" />
              Remember me
            </label>
            <a href="{% url 'password_reset' %}" class="text-sm text-[color:var(--leaf)]">Forgot password?</a>
          </div>

          <div>
            <button type="submit" class="w-full py-3 rounded-md bg-[color:var(--leaf)] text-white font-semibold hover:opacity-90">Login</button>
          </div>
        </form>

        <div class="mt-4 text-center text-sm">
          <span class="text-gray-600">Don't have an account?</span>
          <a href="{% url 'core:signup' %}" class="text-[color:var(--leaf)] font-medium ml-2">Create account</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
